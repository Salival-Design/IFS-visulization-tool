# IFS Visualization Tool - Project Context

## Overview

This project aims to develop a feature-rich Electron application for visualizing the Internal Family Systems (IFS) therapeutic model. The application provides a professional-grade 3D interactive environment for therapists and clients to explore and understand the client's internal system, with a focus on clinical utility and user experience.

## Core Features

1.  **IFS-Centric Visualization Engine:**
    *   Advanced 3D visualization using WebGL/Three.js
    *   Dynamic "Self" nucleus with energy level indicators
    *   Interactive particle systems for parts (managers/firefighters/exiles)
    *   Custom image textures with fallback color coding
    *   Enhanced relationship visualization system:
        *   Health status indicators with color coding
        *   Dynamic strength-based line thickness
        *   Customizable relationship types and colors
        *   Improved positioning and scaling
        *   Smooth animated transitions
        *   Polarization effect for conflicting relationships

2.  **Professional Clinical Interface:**
    *   Optimized dual-panel system:
        *   Clinical Controls (left side)
        *   Visual Settings (right side)
        *   Improved tab navigation
        *   Enhanced spacing and layout
    *   Multi-layered annotation system:
        *   Categorized annotations (insight/observation/intervention/homework)
        *   Position-based or part-attached notes
        *   Session timeline tracking
        *   Progress indicators
    *   Comprehensive relationship management:
        *   Multiple relationship types with visual indicators
        *   Enhanced health status tracking
        *   Dynamic strength indicators
        *   Color-coded relationships
        *   Detailed clinical notes per relationship

3.  **Enhanced User Experience:**
    *   Responsive collapsible control panels
    *   Smooth transitions and animations
    *   Intuitive part management
    *   Real-time visual feedback
    *   Optimized controls
    *   Clear visual hierarchy
    *   Professional styling
    *   Improved tab navigation

## Technologies

*   **Core Framework:**
    *   Electron for cross-platform desktop support
    *   React 18 for modern UI development
    *   TypeScript 5 for type safety
    *   Vite for fast development

*   **3D Visualization:**
    *   Three.js for 3D rendering
    *   React Three Fiber for React integration
    *   React Spring for animations
    *   Custom shaders and effects

*   **State Management:**
    *   Zustand for global state
    *   React hooks for local state
    *   TypeScript for type definitions

## Current Status

### Completed Features
* Full project infrastructure
* Professional dual-panel interface
* Advanced 3D visualization system
* Comprehensive part management
* Enhanced relationship visualization
* Clinical annotation system
* Session tracking
* Real-time updates
* Smooth animations
* Security hardening (CSP)
* Improved relationship effects
* Enhanced clinical tools

### In Progress
* Data persistence
* Session recording
* Export capabilities
* Advanced relationship analytics

### Planned Features
* Client profiles
* Session history
* Advanced reporting
* Collaboration tools
* Data analytics
* Guided protocols